(defvar do-not-disturb false)

(defwidget notifications []
  (button :onclick "eww update do-not-disturb=${!do-not-disturb} \
                    && notify-send -c 'notification' \
                    -h string:x-dunst-stack-tag:'notifications'\
                    Notifications ${do-not-disturb ? "on" : "off"} \
                    && sleep 3                      \
                    && makoctl mode -t do-not-disturb"
    (image :path "${do-not-disturb ? "./icons/notifications-off.svg"
                                   : "./icons/notifications-on.svg"
                  }"
           :fill-svg {colors[7]}
    )
  )
)